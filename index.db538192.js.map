{"mappings":"AAAe,SAAAA,EAAyBC,GACtC,OAAOA,EACJC,KACC,EAACC,aACCA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAEO,4DAEML,gDAA4DD,WAAsBE,yHAG1EC,uFAGCC,yFAGEC,0FAGCC,0EAO5BC,KAAK,G,CC5BV,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,gBAAiBF,SAASC,cAAc,YACxCE,YAAaH,SAASC,cAAc,eAGhCG,EAAmB,ICXV,MAObC,gBACEC,QAAQC,IAAIC,MACZ,MAGMC,EAAM,qEAAiCD,KAAKE,8FAA8FF,KAAKG,OAErJ,OAAOC,MAAMH,GACVI,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJR,KAAKS,gBAEED,I,CAIbC,gBACET,KAAKG,MAAQ,C,CAGfO,YACEV,KAAKG,KAAO,C,CAGVQ,YACF,OAAOX,KAAKE,W,CAGVS,UAAMC,GACRZ,KAAKE,YAAcU,C,CAnCrBC,cACEb,KAAKE,YAAc,GACnBF,KAAKG,KAAO,C,GDUhBb,EAAKC,WAAWuB,iBAAiB,UAGjC,SAAkBC,GAChBzB,EAAKI,gBAAgBsB,UAAY,GACjCD,EAAEE,iBAEFrB,EAAiBM,YAAca,EAAEG,cAAcC,SAASjB,YAAYkB,MACpExB,EAAiBc,YAEjBd,EAAiBC,gBAAgBQ,MAAKG,IACb,IAAnBA,EAAKa,YAGTvB,QAAQC,IAAIS,GACZlB,EAAKI,gBAAgB4B,mBACnB,YACA3C,EAAgB6B,EAAK5B,OACtB,G,IAjBLU,EAAKK,YAAYmB,iBAAiB,SAqBlC,WACElB,EAAiBC,gBAAgBQ,MAAKG,IACpCV,QAAQC,IAAIS,GACZlB,EAAKI,gBAAgB4B,mBACnB,YACA3C,EAAgB6B,EAAK5B,MACtB,G","sources":["src/components/markup.js","src/index.js","src/components/api-service.js"],"sourcesContent":["export default function renderListImage(hits) {\n  return hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n          <div class=\"photo-card\">\n          <a href=\"${largeImageURL}\" class=\"link\" ><img class=gallery-img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" /></a>\n          <div class=\"info\">\n            <p class=\"info-item\">\n              <b>Likes</b> ${likes}\n            </p>\n            <p class=\"info-item\">\n              <b>Views</b>  ${views}\n            </p>\n            <p class=\"info-item\">\n              <b>Comments</b> ${comments}\n            </p>\n            <p class=\"info-item\">\n              <b>Downloads</b> ${downloads}\n            </p>\n          </div>\n        </div>\n        </div>`;\n      }\n    )\n    .join('');\n}\n","import './css/common.css';\nimport ImagesApiService from './components/api-service';\nimport axios from 'axios';\nimport renderListImage from './components/markup';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  imagesContainer: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nconst imagesApiService = new ImagesApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  refs.imagesContainer.innerHTML = '';\n  e.preventDefault();\n\n  imagesApiService.searchQuery = e.currentTarget.elements.searchQuery.value;\n  imagesApiService.resetPage();\n\n  imagesApiService.fetchArticles().then(data => {\n    if (data.totalHits === 0) {\n      return;\n    }\n    console.log(data);\n    refs.imagesContainer.insertAdjacentHTML(\n      'beforeend',\n      renderListImage(data.hits)\n    );\n  });\n}\n\nfunction onLoadMore() {\n  imagesApiService.fetchArticles().then(data => {\n    console.log(data);\n    refs.imagesContainer.insertAdjacentHTML(\n      'beforeend',\n      renderListImage(data.hits)\n    );\n  });\n}\n","export default class ImagesApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    // this.perPage = 40;\n  }\n\n  fetchArticles() {\n    console.log(this);\n    const API_KEY = '25187003-ac92f0861cd819d45c4ecbcb8';\n    const BASE_URL = 'https://pixabay.com/api';\n\n    const url = `${BASE_URL}/?key=${API_KEY}&q=${this.searchQuery}&image_type='photo'&orientation='horizontal'&safesearch='true'&per_page=20&page=${this.page}`;\n\n    return fetch(url)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        // console.log(data);\n        return data;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$87af7cc9e0777206$export$2e2bcd8739ae039","hits","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","imagesContainer","loadMoreBtn","$1f0dc3b9307be026$var$imagesApiService","fetchArticles","console","log","this","url","searchQuery","page","fetch","then","r","json","data","incrementPage","resetPage","query","newQuery","constructor","addEventListener","e","innerHTML","preventDefault","currentTarget","elements","value","totalHits","insertAdjacentHTML"],"version":3,"file":"index.db538192.js.map"}