{"mappings":"AAGA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,gBAAiBF,SAASC,cAAc,YACxCE,YAAaH,SAASC,cAAc,eAGhCG,EAAmB,ICTV,MAMbC,gBACEC,QAAQC,IAAIC,MACZ,MAGMC,EAAM,qEAAiCD,KAAKE,8FAA8FF,KAAKG,OAErJ,OAAOC,MAAMH,GACVI,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJR,KAAKS,gBAEED,EAAKE,O,CAIlBD,gBACET,KAAKG,MAAQ,C,CAGfQ,YACEX,KAAKG,KAAO,C,CAGVS,YACF,OAAOZ,KAAKE,W,CAGVU,UAAMC,GACRb,KAAKE,YAAcW,C,CAlCrBC,cACEd,KAAKE,YAAc,GACnBF,KAAKG,KAAO,C,GDQhBb,EAAKC,WAAWwB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFrB,EAAiBM,YAAcc,EAAEE,cAAcC,SAASjB,YAAYkB,MACpExB,EAAiBe,YACjBf,EAAiBC,gBAAgBQ,MAAKK,IACpCZ,QAAQC,IAAIW,EAAK,G,IARrBpB,EAAKK,YAAYoB,iBAAiB,SAYlC,WACEnB,EAAiBC,gBAAgBQ,MAAKK,IACpCZ,QAAQC,IAAIW,EAAK,G","sources":["src/index.js","src/components/api-service.js"],"sourcesContent":["import './css/common.css';\nimport ImagesApiService from './components/api-service';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  imagesContainer: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nconst imagesApiService = new ImagesApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  imagesApiService.searchQuery = e.currentTarget.elements.searchQuery.value;\n  imagesApiService.resetPage();\n  imagesApiService.fetchArticles().then(hits => {\n    console.log(hits);\n  });\n}\n\nfunction onLoadMore() {\n  imagesApiService.fetchArticles().then(hits => {\n    console.log(hits);\n  });\n}\n","export default class ImagesApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    console.log(this);\n    const API_KEY = '25187003-ac92f0861cd819d45c4ecbcb8';\n    const BASE_URL = 'https://pixabay.com/api';\n\n    const url = `${BASE_URL}/?key=${API_KEY}&q=${this.searchQuery}&image_type='photo'&orientation='horizontal'&safesearch='true'&per_page=20&page=${this.page}`;\n\n    return fetch(url)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n\n        return data.hits;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","imagesContainer","loadMoreBtn","$1f0dc3b9307be026$var$imagesApiService","fetchArticles","console","log","this","url","searchQuery","page","fetch","then","r","json","data","incrementPage","hits","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.cd78027c.js.map"}